(function(e){alert_me=function(t,n,r,i){e("#guess-flash").hide();e("#guess-flash").html("");e("#guess-flash").removeClass();e("#guess-flash").addClass("alert");i?e("#guess-flash").addClass("alert-success"):e("#guess-flash").addClass("alert-error");r&&e("#guess-flash").append("<a class='close' data-dismiss='alert'>&times</a>");t!==""&&e("#guess-flash").append("<strong>"+t+"</strong>");e("#guess-flash").append(" "+n);e("#guess-flash").show().center();e("#guess-flash").delay(1e3).fadeOut(500)};add_update_guess=function(){}})(jQuery);jQuery.fn.center=function(){this.css("position","absolute");this.css("top",($(window).height()-this.outerHeight())/2+$(window).scrollTop()+"px");this.css("left",($(window).width()-this.outerWidth())/2+$(window).scrollLeft()+"px");return this};$(document).ready(function(){$(".accordion-toggle").click(function(){var t="#collapse"+$(this).attr("sport_id");$.ajax({url:"/guesses/sport_guesses",type:"GET",data:{sport_id:$(this).attr("sport_id")},complete:function(){},success:function(n){$(t).html("");$(t).append(n);$.ajax({url:"/guesses/get_user_guesses",type:"GET",dataType:"json",complete:function(){},success:function(n){$.each(n,function(){var t="#input_"+this.event_id+"_"+this.rank,r="#status_"+this.event_id+"_"+this.rank,i="#flag_"+this.event_id+"_"+this.rank;$(t).val(e[this.country_id-1]);$(r).addClass("success");$(i).html("<img alt='"+n+"' height='20' src='/assets/countries/"+this.country_id+".png' width='34'>")});var r={duration:800,offset:{left:0,top:-110}};$.scrollTo(t,r)},error:function(e,t,n){}})},error:function(e,t,n){}})});change_guess_count=function(e){var t=$(".guess-count").html();$(".guess-count").html(parseInt(t)+e)};check_time=function(){var e=new Date,t=new Date(2012,7,27,21,0,0,0),n=t.getTime()-e.getTime();if(n<0)return!1};var e=["Afganistan","Albania","Algeria","Amerikan Samoa","Andorra","Angola","Antigua ja Barbuda","Argentiina","Armenia","Australia","Itävalta","Azerbaidzan","Bahama","Bahrain","Barbados","Valko-Venäjä","Belgia","Bermuda","Bolivia","Bosnia ja Hertsegovina","Botswana","Brasilia","Brittiläiset Neitsytsaaret","Bulgaria","Burundi","Kamerun","Kanada","Caymansaaret","Keski-Afrikan tasavalta","Chile","Kiina","Kolumbia","Kongo","Cookinsaaret","Costa Rica","Norsunluurannikko","Kroatia","Kuuba","Kypros","Tsekki","Tanska","Djibouti","Dominica","Dominikaaninen tasavalta","Ecuador","Egypti","El Salvador","Eritrea","Viro","Etiopia","Fidzi","Suomi","Ranska","Gabon","Georgia","Saksa","Ghana","Iso-Britannia","Kreikka","Grenada","Guatemala","Guinea-Bissau","Guyana","Haiti","Honduras","Hongkong","Unkari","Islanti","Intia","Indonesia","Iran","Irlanti","Israel","Italia","Jamaika","Japani","Jordania","Kazakstan","Kenia","Pohjois-Korea","Etelä-Korea","Kuwait","Kirgisia","Latvia","Libanon","Liberia","Libya","Liettua","Luxemburg","Madagaskar","Malesia","Malta","Meksiko","Moldova","Mongolia","Montenegro","Marokko","Mosambik","Namibia","Hollanti","Uusi-Seelanti","Nigeria","Norja","Oman","Pakistan","Panama","Papua-Uusi-Guinea","Paraguay","Peru","Filippiinit","Puola","Portugali","Puerto Rico","Qatar","Romania","Venäjä","Ruanda","Saint Kitts ja Nevis","Saint Lucia","Samoa","San Marino","Saudi-Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","Etelä-Afrikka","Espanja","Sudan","Ruotsi","Sveitsi","Syyria","Kiinan Taipei","Tadzikistan","Tansania","Thaimaa","Trinidad ja Tobago","Tunisia","Turkki","Turkmenistan","Uganda","Ukraina","Yhdistyneet arabiemiirikunnat","Yhdysvallat","Uruguay","Uzbekistan","Venezuela","Vietnam","Neitsytsaaret","Sambia","Zimbabwe"];$(document).on("click",".remove-guess",function(){if(check_time()==0){alert_me("","Soosoo, kisat on jo alkanu!",!0,!1);return!1}var e=$(this).attr("event_id"),t=$(this).attr("rank"),n="#input_"+e+"_"+t,r="#status_"+e+"_"+t,i="#flag_"+e+"_"+t;$.ajax({type:"DELETE",url:"/guesses/1",data:{"guess[event]":e,"guess[rank]":t},statusCode:{404:function(){alert_me("Virhe!","Veikkauksen poistossa tapahtui virhe, luultavasti kyseistä veikkausta ei ole tietokannassa...",!0,!1);$(r).attr("class","control-group error")},200:function(){$(n).val("");$(r).attr("class","");alert_me("","Veikkauksesi on poistettu tietokannasta.",!0,!1);$(i).html("");change_guess_count(-1)}}})})});